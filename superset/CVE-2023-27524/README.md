# CVE-2023-27524 ì·¨ì•½ì  ë¶„ì„ ë° ì‹¤ìŠµ ë³´ê³ ì„œ

1. ê°œìš”
2. ì‹¤ìŠµ í™˜ê²½ êµ¬ì„±
3. í™˜ê²½ ì„¤ì •
4. ì·¨ì•½ì  ê°œìš” ë° ê³µê²© íë¦„
5. ê²°ë¡ 


1. ê°œìš”
Apache Supersetì€ ì‹œê°ì ì´ê³  ëŒ€í™”í˜•ìœ¼ë¡œ ì„¤ê³„ëœ ì˜¤í”ˆ ì†ŒìŠ¤ ë°ì´í„° íƒìƒ‰ ë° ì‹œê°í™” í”Œë«í¼ì´ë‹¤. ë³¸ ë³´ê³ ì„œì—ì„œ ë‹¤ë£¨ëŠ” CVE-2023-27524ëŠ” supersetì—  í•˜ë“œì½”ë”©ëœ JWT ë¹„ë°€ í‚¤(CVE-2023-27524)ë¡œ ì¸í•´ ë°œìƒí•˜ëŠ” ì¸ì¦ ìš°íšŒ ì·¨ì•½ì ì´ë‹¤.ì´ ì·¨ì•½ì ì€ supersetì´ ê¸°ë³¸ í‚¤ë¥¼ ë³€ê²½í•˜ì§€ ì•Šì€ ì±„ ìš´ì˜ë  ê²½ìš°, ê³µê²©ìê°€ ìœ íš¨í•œ ì„¸ì…˜ ì¿ ê¸°ë¥¼ ìœ„ì¡°í•˜ì—¬ ê´€ë¦¬ì ê¶Œí•œì„ íƒˆì·¨í•  ìˆ˜ ìˆëŠ” ë¬¸ì œì´ë‹¤. ì´ë¥¼ í†µí•´ ëŒ€ì‹œë³´ë“œ ë° ì—°ê²°ëœ ë°ì´í„°ë² ì´ìŠ¤ì— ë¬´ë‹¨ ì ‘ê·¼í•  ìˆ˜ ìˆìœ¼ë©°, ì‹¬ê°í•œ ê²½ìš° ì›ê²© ì½”ë“œ ì‹¤í–‰(RCE)ë¡œ ì´ì–´ì§ˆ ìˆ˜ ìˆë‹¤.
ë˜í•œ, í•´ë‹¹ ì·¨ì•½ì ì€ CVE-2023-37941ê³¼ ê²°í•©ë  ê²½ìš° ì—­ì§ë ¬í™” ì·¨ì•½ì ì„ í†µí•œ ì›ê²© ì½”ë“œ ì‹¤í–‰ì´ ê°€ëŠ¥í•´ì§€ëŠ” ë“±, ê³µê²©ì˜ ìœ„í˜‘ì´ ì¦ëŒ€ëœë‹¤.

ğŸ”— ì¶œì²˜:

https://nvd.nist.gov/vuln/detail/CVE-2023-27524

https://github.com/vulhub/vulhub/tree/master/superset/CVE-2023-27524

2. ì‹¤ìŠµí™˜ê²½ êµ¬ì„±
- CVE ë²ˆí˜¸ : CVE-2023-27524
- ëŒ€ìƒ ì• í”Œë¦¬ì¼€ì´ì…˜ : Apache Superset
- ì‹¤ìŠµ ëª©ì  : CVE í™˜ê²½ì„ Dockerë¡œ êµ¬ì„±í•˜ê³ , ì¸ì¦ ìš°íšŒ ì·¨ì•½ì  PoCë¥¼ ì‹¤í–‰í•˜ì—¬  ê´€ë¦¬ì ì„¸ì…˜ íƒˆì·¨ ê³¼ì •ì„ ê²€ì¦í•œë‹¤.
- ë„êµ¬ ë° ë²„ì „
    - OS : Ubuntu 20.04 (WSL2 ì‚¬ìš©)
    - Docker version : 28.0.4
    - docker-compose version : 2.34
    ![alt text](image.png)


2. í™˜ê²½ ì„¤ì •

2-1 vulhub Fork
ë§í¬ : https://github.com/gunh0/kr-vulhub
![alt text](image-1.png)

vulhub ë ˆí¬ì§€í† ë¦¬ë¥¼ ìì‹ ì˜ GitHub ê³„ì •ìœ¼ë¡œ Forkí•œ í›„, í•´ë‹¹ ë ˆí¬ì§€í† ë¦¬ì—ì„œ ì‘ì—…ì„ ì§„í–‰í•˜ì˜€ë‹¤.

2-2 docker wslê³¼ ì—°ê²°
wslê³¼ ì—°ê²°í•´ì£¼ê³ , ì·¨ì•½í•œ Apache Superset ì´ë¯¸ì§€ë¥¼ ì‹¤í–‰ì‹œì¼œì¤€ë‹¤.
cd vulhub/superset/CVE-2023-27524
docker-compose up -d
ë¥¼ ì‹¤í–‰í•´ì¤€ë‹¤.
![alt text](image-2.png)
![alt text](dockerdesktopcontainer.png)
docker desktopê³¼ ì˜ ì—°ê²°ë¨ì„ ë³¼ ìˆ˜ ìˆë‹¤.

2-3 ì»¨í…Œì´ë„ˆ ë° í¬íŠ¸ í™•ì¸
Docker Desktop ì»¨í…Œì´ë„ˆê°€ ì •ìƒ ì‹¤í–‰ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ê³ , ë¸Œë¼ìš°ì €ë¡œ ì ‘ì†í•œë‹¤.

![alt text](<port check.png>)
ë¸Œë¼ìš°ì €ì— ì ‘ì†í•˜ê¸° ìœ„í•´ í¬íŠ¸ë²ˆí˜¸ë¥¼ í™•ì¸í•˜ê³  ì ‘ì†í•œë‹¤.
í•„ìì˜ í¬íŠ¸ëŠ” 8088ë¡œ http://127.0.0.1:8080ë¡œ ì ‘ì†í•œë‹¤
![alt text](browser.png)
ì ‘ì†ì´ ì™„ë£Œë¨ì„ ë³´ì—¬ì¤€ë‹¤.
ì´ê²ƒì´ ëœ»í•˜ëŠ” ë°”ëŠ” ì„¸ì…˜ ì¿ í‚¤ë¥¼ ìœ„ì¡°í•˜ì—¬ Supersetì— ë¡œê·¸ì¸í•˜ëŠ” ê³¼ì •ì€, í•´ë‹¹ ì·¨ì•½ì ì´ ì¸ì¦ ìš°íšŒ ê°€ëŠ¥í•˜ë‹¤ëŠ” ê²ƒì„ ë³´ì—¬ì¤€ë‹¤. ë³„ë„ì˜ ì‚¬ìš©ì ê³„ì • ì—†ì´ë„ ì ‘ê·¼ì´ ê°€ëŠ¥í•˜ë‹¤ëŠ” ì ì—ì„œ ìœ„í—˜ì„±ì„ ë³´ì¸ë‹¤.

2-4 CVE-2023-27524 PoC ì‹¤í–‰

ì´ë¥¼ ìœ„í•´ 
# Install dependencies
pip install -r requirements.txt

# Forge an administrative session (whose user_id is 1) cookie
python CVE-2023-27524.py --url http://your-ip:8088 --id 1 --validate

ì‹¤í–‰í•´ì¤€ë‹¤.

ìœ„ì— ì´ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•´ì¤¬ì„ ë•Œ, ì—ëŸ¬ê°€ ë‚˜ì™€ ê°€ìƒí™˜ê²½ì„ ë§Œë“¤ì–´ ë‹¤ì‹œ ì‹¤í–‰í•´ì£¼ì—ˆë‹¤.
![alt text](pythonvirtual.png)

ì‹¤í–‰í•œ ê²°ê³¼ 
![alt text](session.jpg)
ì„¸ì…˜ì„ ì–»ì„ ìˆ˜ ìˆì—ˆë‹¤.

ì´ì œ ì´ê²° í™œìš©í•˜ì—¬ ë¸Œë¼ìš°ì € ë¡œê·¸ì¸ ì¿ í‚¤ë¥¼ ë°”ê¿” ë¡œê·¸ì¸ì„ ì‹œë„í•´ë³¼ê²ƒì´ë‹¤.
ë¨¼ì € ë¸Œë¼ìš°ì €ì— ì ‘ì†í•˜ì—¬ ê°œë°œì ë„êµ¬ -> applicationì— ë“¤ì–´ê°€ì¤€ë‹¤.
ë°‘ì— ì£¼ì†Œë¥¼ í´ë¦­í•˜ë©´ session ê°’ì´ ì§€ì •ë˜ì–´ìˆìŒì„ ì•Œ ìˆ˜ ìˆë‹¤.

![alt text](session_1.png)
sessionê°’ì— ì•„ê¹Œ ì–»ì€ ì„¸ì…˜ê°’ìœ¼ë¡œ ëŒ€ì²´í•´ì¤€ë‹¤.

![alt text](loginsuccess.png)
ëŒ€ì²´í•˜ê³  ìƒˆë¡œê³ ì¹¨ì„ í•´ì£¼ë©´ ë¡œê·¸ì¸ì´ ë˜ì—ˆìŒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.


5. ê²°ë¡ 
VE-2023-27524ëŠ” ê¸°ë³¸ ì„¤ì • ê·¸ëŒ€ë¡œ ìš´ì˜ ì¤‘ì¸ Apache Superset í™˜ê²½ì—ì„œ ì¸ì¦ ìš°íšŒë¥¼ ê°€ëŠ¥í•˜ê²Œ í•˜ëŠ” ì¹˜ëª…ì ì¸ ì·¨ì•½ì ì…ë‹ˆë‹¤. ì‹¤ìŠµì„ í†µí•´ ê´€ë¦¬ì ì„¸ì…˜ì„ íƒˆì·¨í•˜ê³  ì‹¤ì œë¡œ ì¸ì¦ë˜ì§€ ì•Šì€ ìƒíƒœì—ì„œ ì‹œìŠ¤í…œì— ì ‘ê·¼í•  ìˆ˜ ìˆìŒì„ ê²€ì¦í•˜ì˜€ë‹¤.  
í•´ë‹¹ ì·¨ì•½ì ì„ ë°©ì§€í•˜ê¸° ìœ„í•´ì„œëŠ” Superset ì„¤ì • ì‹œ ë°˜ë“œì‹œ SECRET_KEYë¥¼ ê°•ë ¥í•œ ëœë¤ ê°’ìœ¼ë¡œ ë³€ê²½í•´ì•¼ í•˜ë©°, ì™¸ë¶€ì—ì„œ ì ‘ê·¼ ê°€ëŠ¥í•œ í™˜ê²½ì— ëŒ€í•´ì„œëŠ” ë³´ì•ˆ êµ¬ì„±(ë°©í™”ë²½, ì ‘ê·¼ ì œì–´ ë“±)ë„ ë°˜ë“œì‹œ ë³‘í–‰í•´ì•¼í•œë‹¤.


=======
<!-- markdownlint-disable first-line-heading -->
<p align="center">
  <a href="https://vulhub.org" target="_blank"><img src=".github/assets/banner.png" alt="Vulhub" height="auto" /></a>
</p>

<p align="center">
  <a href="https://discord.gg/bQCpZEK" target="_blank"><img src="https://img.shields.io/discord/485505185167179778.svg" alt="Chat on Discord"></a>
  <a href="https://github.com/sponsors/phith0n" target="_blank"><img src="https://img.shields.io/github/sponsors/phith0n?color=aqua" alt="GitHub Sponsors"></a>
  <a href="https://vulhub.org/environments" target="_blank"><img alt="Vulnerabilities count" src="https://img.shields.io/badge/dynamic/json?url=https://vulhub.org/api/statistic&query=%24.environments&label=vulnerabilities"></a>
  <img alt="GitHub language count" src="https://img.shields.io/github/languages/count/vulhub/vulhub?color=yellow">
  <a href="https://github.com/vulhub/vulhub/graphs/contributors" target="_blank"><img alt="GitHub contributors" src="https://img.shields.io/github/contributors-anon/vulhub/vulhub?color=orange"></a>
  <a href="https://github.com/vulhub/vulhub/blob/master/LICENSE" target="_blank"><img src="https://img.shields.io/github/license/vulhub/vulhub.svg" alt="GitHub"></a>
</p>

Vulhub is an open-source collection of pre-built, ready-to-use vulnerable Docker environments. With just one command you can launch a vulnerable environment for security research, learning, or demonstration, no prior Docker experience required.

[ä¸­æ–‡ç‰ˆæœ¬(Chinese version)](README.zh-cn.md)

## Quick Start

**Install Docker** (example for Ubuntu 24.04):

```bash
# Install the latest version docker
curl -s https://get.docker.com/ | sh

# Run docker service
systemctl start docker
```

For other operating systems, see the [Docker documentation](https://docs.docker.com/).

Although all Vulhub environments are running based on Docker Compose, you no longer need to install docker-compose separately. Instead, you can use the built-in `docker compose` command to start Vulhub environments.

**Download and set up Vulhub:**

```bash
git clone --depth 1 https://github.com/vulhub/vulhub
```

**Launch a vulnerable environment:**

```bash
cd vulhub/langflow/CVE-2025-3248  # Example: enter a vulnerability directory
docker compose up -d
```

Each environment directory contains a detailed **README** with reproduction steps and usage instructions.

**Clean up after testing:**

```bash
docker compose down -v
```

> [!NOTE]
>
> - Use a VPS or VM with at least 1GB RAM for best results
> - The `your-ip` in documentation refers to your host/VPS IP, not the Docker container IP
> - Ensure Docker has permission to access all files in the current directory to avoid permission errors
> - Vulhub currently supports only x86 architectures (not ARM)
> - **All environments are for testing and educational purposes only. Do not use in production!**

## Contributing

If you encounter errors during build or runtime, please first check if they are caused by Docker or related dependencies. If you confirm an issue with a Dockerfile or Vulhub code, submit an issue. See [FAQ](https://vulhub.org/documentation/faq) for troubleshooting tips.

For questions, contact us:

- [Discord](https://discord.gg/bQCpZEK)
- [Twitter](https://twitter.com/vulhub)

Thanks to all [contributors](contributors.md):

[![](https://opencollective.com/vulhub/contributors.svg?width=890&button=false)](https://github.com/vulhub/vulhub/graphs/contributors)

## Partners

Our partners and users:

<p>
  <a href="https://www.wangan.com/vulhub" target="_blank"><img src="https://vulhub.org/sponsor/wangan.png" width="200"></a>
  <a href="https://www.cvebase.com" target="_blank"><img src="https://vulhub.org/sponsor/cvebase.png" width="200"></a>
  <a href="https://www.huoxian.cn" target="_blank"><img src="https://vulhub.org/sponsor/huoxian.png" width="200"></a>
  <a href="https://www.chaitin.cn" target="_blank"><img src="https://vulhub.org/sponsor/chaitin.png" width="200"></a>
  <a href="https://xz.aliyun.com/" target="_blank"><img src="https://vulhub.org/sponsor/aliyun.svg" width="200"></a>
</p>

Sponsor Vulhub on [GitHub Sponsor](https://github.com/sponsors/phith0n), [OpenCollective](https://opencollective.com/vulhub#backer), or [Patreon](https://www.patreon.com/bePatron?u=12677520) ğŸ™

<p>
  <a href="https://github.com/sponsors/phith0n"><img src="https://opencollective.com/vulhub/backers.svg?width=138"></a>
  <a href="https://github.com/sponsors/phith0n"><img src="https://opencollective.com/vulhub/sponsors.svg?width=138"></a>
</p>

More ways to [donate](https://vulhub.org/).

## License

Vulhub is licensed under the MIT License. See [LICENSE](LICENSE) for details.
>>>>>>> 1c49e194a6eca46e8f87a74229d19d893b6568e0
